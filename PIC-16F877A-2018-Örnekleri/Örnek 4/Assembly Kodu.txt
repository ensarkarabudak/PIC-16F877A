    LIST P=16F877A
    INCLUDE "P16F877A.INC"
    __CONFIG	_XT_OSC  & _WDT_OFF & _LVP_OFF
    SAYAC	EQU 0X20
    TABLO_SAY   EQU 0X21
    SAYAC2	EQU 0X22
    TABLO_SAY2	EQU 0X23    	
    ORG	    0X00
    GOTO    BASLA
    ORG	    0X04
    GOTO    KESME
BASLA
    BSF	    STATUS,5
    MOVLW   B'00000001'
    MOVWF   PIE1
    MOVLW   B'00000011'
    MOVWF   OPTION_REG
    MOVLW   0X06
    MOVWF   ADCON1
    MOVLW   0X00
    MOVWF   TRISA 
    CLRF    TRISB   
    BCF	    STATUS,5
    MOVLW   B'00110001'
    MOVWF   T1CON
    CLRF    PIR1
    MOVLW   B'11100000'
    MOVWF   INTCON  
    MOVLW   0X0B
    MOVWF   TMR1H
    MOVLW   0XDB
    MOVWF   TMR1L   
    CLRF    TMR0
    CLRF    PORTB
    CLRF    SAYAC
    CLRF    TABLO_SAY
    CLRF    SAYAC2
    CLRF    TABLO_SAY2   
MAIN
    GOTO MAIN   
KESME
    BCF	    INTCON,GIE
    BCF	    INTCON,PEIE   
    BTFSS   INTCON,TMR0IF
    GOTO    TMR1_KNTRL
    GOTO    TMR0_KNTRL 
TMR0_KNTRL
    BCF	    INTCON,TMR0IF
    INCF    SAYAC,F
    MOVLW   D'98'
    SUBWF   SAYAC,W		
    BTFSS   STATUS,Z		
    GOTO    KESME_SONU
    CLRF    SAYAC
    INCF    TABLO_SAY,F
    MOVF    TABLO_SAY,W
    CALL    LOOK_UP
    BCF	    PORTA,0
    MOVWF   PORTB
    BSF	    PORTA,1
    MOVLW   D'10'
    SUBWF   TABLO_SAY,W
    BTFSS   STATUS,Z
    GOTO    KESME_SONU   
    MOVLW   D'0'
    MOVWF   TABLO_SAY
    GOTO    KESME_SONU 
TMR1_KNTRL
    BTFSS   PIR1,0
    GOTO    KESME_SONU
    BCF	    PIR1,0 
    MOVLW   0X0B
    MOVWF   TMR1H
    MOVLW   0XDB
    MOVWF   TMR1L
    INCF    SAYAC2,F
    MOVLW   D'2'
    SUBWF   SAYAC2,W
    BTFSS   STATUS,Z
    GOTO    KESME_SONU
    CLRF    SAYAC2
    INCF    TABLO_SAY2,F
    MOVF    TABLO_SAY2,W
    CALL    LOOK_UP
    BSF	    PORTA,0
    MOVWF   PORTB
    BCF	    PORTA,1
    MOVLW   D'10'
    SUBWF   TABLO_SAY2,W
    BTFSS   STATUS,Z
    GOTO    KESME_SONU
    MOVLW   D'0'
    MOVWF   TABLO_SAY2
KESME_SONU
    BSF	    INTCON,GIE
    BSF	    INTCON,PEIE
    RETFIE   
LOOK_UP
    ADDWF   PCL,F
    NOP
    RETLW   0X3F
    RETLW   0X06
    RETLW   0X5B
    RETLW   0X4F
    RETLW   0X66
    RETLW   0X6D
    RETLW   0X7D
    RETLW   0X07
    RETLW   0X7F
    RETLW   0X6F
    RETURN   
END
    


